(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))n(h);new MutationObserver(h=>{for(const s of h)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function i(h){const s={};return h.integrity&&(s.integrity=h.integrity),h.referrerPolicy&&(s.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?s.credentials="include":h.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(h){if(h.ep)return;h.ep=!0;const s=i(h);fetch(h.href,s)}})();const Lt={x:{min:-10,max:10},y:{min:-10,max:10},z:{min:-10,max:10}};var kt={},At;function Ot(){return At||(At=1,function(S){var p={};function i(n){if(p[n])return p[n].exports;var h=p[n]={exports:{},id:n,loaded:!1};return S[n].call(h.exports,h,h.exports,i),h.loaded=!0,h.exports}return i.m=S,i.c=p,i.p="",i(0)}([function(S,p,i){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},h=i(1),s=d(h);function d(g){return g&&g.__esModule?g:{default:g}}if(typeof AFRAME>"u")throw"Component attempted to register before AFRAME was available.";var l=AFRAME.utils.debug;l.enable("shader:html:warn");var o=l("shader:html:warn"),e=l("shader:html:debug");function c(g,y){return{status:"error",target:y,message:g,timestamp:Date.now()}}AFRAME.registerShader("html",{schema:{color:{type:"color"},fog:{default:!0},target:{default:null},debug:{default:null},fps:{type:"number",default:0},width:{default:null},height:{default:null},ratio:{default:null}},init:function(y){return e("init",y),this.__cnv=document.createElement("canvas"),this.__cnv.width=2,this.__cnv.height=2,this.__ctx=this.__cnv.getContext("2d"),this.__texture=new THREE.Texture(this.__cnv),this.__reset(),this.material=new THREE.MeshBasicMaterial({map:this.__texture}),this.el.sceneEl.addBehavior(this),this.material},update:function(y){return e("update",y),this.__updateMaterial(y),this.__updateTexture(y),this.material},tick:function(y){if(!(this.__paused||!this.__target||!this.__nextTime)){var x=Date.now();x>this.__nextTime&&this.__render()}},__updateMaterial:function(y){var x=this.material,r=this.__getMaterialData(y);Object.keys(r).forEach(function(m){x[m]=r[m]})},__getMaterialData:function(y){return{fog:y.fog,color:new THREE.Color(y.color)}},__setTexure:function(y){e("__setTexure",y),y.status==="error"?(o("Error: "+y.message+`
target: `+y.target),this.__reset()):y.status==="success"&&y.target!==this.__textureSrc&&this.__ready(y)},__updateTexture:function(y){var x=this,r=y.target,m=y.fps,f=y.width,w=y.height,C=y.ratio;this.__width=f||this.schema.width.default,this.__height=w||this.schema.height.default;var I=function(){x.__debugEl&&(x.__debugEl.innerHTML="",x.__debugEl=x.schema.debug.default)};if(y.debug){var O=this.__validateAndGetQuerySelector(y.debug);O&&!O.error?this.__debugEl=O:I()}else I();if(C&&C==="width"||C==="height"?this.__ratio=C:this.__ratio=this.schema.ratio.default,m)if(this.__fps>0)this.__fps=m;else if(m===-1){this.__fps=this.schema.fps.default,this.__target&&this.__render();var M=Object.assign({},this.el.getAttribute("material"));delete M.fps,this.el.setAttribute("material",M)}else this.__fps=m,this.__target&&(this.play(),this.__render());else this.__fps>0?this.pause():this.__fps=this.schema.fps.default;if(r){if(r===this.__target)return;this.__target=r,this.__validateSrc(r,this.__setTexure.bind(this))}else this.__reset()},__validateSrc:function(y,x){var r=void 0,m=this.__validateAndGetQuerySelector(y);if(!(!m||(typeof m>"u"?"undefined":n(m))!=="object")){if(m.error)r=m.error;else{var f=m.tagName.toLowerCase();f==="img"||f==="video"?r="For <"+f+"> element, please use `shader:flat`":x({status:"success",target:y,targetEl:m,timestamp:Date.now()})}if(r){var w=c(r,y);x(w)}}},__validateAndGetQuerySelector:function(y){try{var x=document.querySelector(y);return x||{error:"No element was found matching the selector"}}catch{return{error:"no valid selector"}}},pause:function(){e("pause"),this.__paused=!0,this.__nextTime=null},play:function(){e("play"),this.__paused=!1},togglePlayback:function(){this.paused()?this.play():this.pause()},paused:function(){return this.__paused},__clearCanvas:function(){!this.__ctx||!this.__texture||(this.__ctx.clearRect(0,0,this.__width,this.__height),this.__texture.needsUpdate=!0)},__draw:function(y){if(e("__draw"),!(!this.__ctx||!this.__texture)){var x=y.width/y.height,r=this.__cnv.width=THREE.Math.nearestPowerOfTwo(y.width),m=this.__cnv.height=THREE.Math.nearestPowerOfTwo(y.height);if(this.__ctx.drawImage(y,0,0,r,m),this.__texture.needsUpdate=!0,this.__ratio){var f=this.el.getObject3D("mesh").geometry.metadata.parameters,w=f.width,C=f.height;this.el.setAttribute("geometry",Object.assign({},this.el.getAttribute("geometry"),{width:this.__ratio==="width"?w:C*x,height:this.__ratio==="width"?w/x:C}))}this.__debugEl&&(this.__debugEl.innerHTML="",this.__debugEl.appendChild(y)),this.__setNextTick()}},__render:function(){if(this.__nextTime=null,!!this.__targetEl){var y=this.__targetEl.getBoundingClientRect(),x=y.width,r=y.height;(0,s.default)(this.__targetEl,{background:void 0,width:this.__width||x,height:this.__height||r,onrendered:this.__draw.bind(this)})}},__setNextTick:function(){this.__fps>0&&(this.__nextTime=Date.now()+1e3/this.__fps)},__ready:function(y){var x=y.target,r=y.targetEl;e("__ready"),this.__target=x,this.__targetEl=r,this.play(),this.__render()},__reset:function(){this.pause(),this.__clearCanvas(),this.__target=null,this.__targetEl=null,this.__debugEl=null}})},function(S,p,i){var n,h,s=i(2),d=i(3),l=i(9),o=i(21),e=i(24),c=i(5),g=i(12);i(16),i(14).loadUrlDocument;var y=g.getBounds;function x(f,w){w=w||{},w.logging&&(c.options.logging=!0,c.options.start=Date.now()),w.async=typeof w.async>"u"?!0:w.async,w.allowTaint=typeof w.allowTaint>"u"?!1:w.allowTaint,w.removeContainer=typeof w.removeContainer>"u"?!0:w.removeContainer,w.javascriptEnabled=typeof w.javascriptEnabled>"u"?!1:w.javascriptEnabled,w.imageTimeout=typeof w.imageTimeout>"u"?1e4:w.imageTimeout,w.renderer=typeof w.renderer=="function"?w.renderer:d,w.strict=!!w.strict;var C=w.width||512,I=w.height||512;return m(f,C,I).then(function(O){w.onrendered(O)})}x.CanvasRenderer=d,x.NodeContainer=e,x.log=c,x.utils=g;var r=typeof document>"u"||typeof Object.create!="function"||typeof document.createElement("canvas").getContext!="function"?function(){return Promise.reject("No canvas support")}:x;S.exports=r,n=[],h=(function(){return r}).apply(p,n),h!==void 0&&(S.exports=h);function m(f,w,C){var I=new s(f.ownerDocument),O=new l({useCORS:!0},I),M={renderer:x.CanvasRenderer};y(f);var D=new M.renderer(w,C,O,M,document),F=new o(f,D,I,O,M);return F.ready.then(function(){return D.canvas})}},function(S,p){function i(n){this.rangeBounds=this.testRangeBounds(n),this.cors=this.testCORS(),this.svg=this.testSVG()}i.prototype.testRangeBounds=function(n){var h,s,d,l,o=!1;return n.createRange&&(h=n.createRange(),h.getBoundingClientRect&&(s=n.createElement("boundtest"),s.style.height="123px",s.style.display="block",n.body.appendChild(s),h.selectNode(s),d=h.getBoundingClientRect(),l=d.height,l===123&&(o=!0),n.body.removeChild(s))),o},i.prototype.testCORS=function(){return typeof new Image().crossOrigin<"u"},i.prototype.testSVG=function(){var n=new Image,h=document.createElement("canvas"),s=h.getContext("2d");n.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(n,0,0),h.toDataURL()}catch{return!1}return!0},S.exports=i},function(S,p,i){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=i(4),s=i(6),d=i(5);function l(e,c){h.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=c),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},d("Initialized CanvasRenderer with size",e,"x",c)}l.prototype=Object.create(h.prototype),l.prototype.setFillStyle=function(e){return this.ctx.fillStyle=(typeof e>"u"?"undefined":n(e))==="object"&&e.isColor?e.toString():e,this.ctx},l.prototype.rectangle=function(e,c,g,y,x){this.setFillStyle(x).fillRect(e,c,g,y)},l.prototype.circle=function(e,c,g,y){this.setFillStyle(y),this.ctx.beginPath(),this.ctx.arc(e+g/2,c+g/2,g/2,0,Math.PI*2,!0),this.ctx.closePath(),this.ctx.fill()},l.prototype.circleStroke=function(e,c,g,y,x,r){this.circle(e,c,g,y),this.ctx.strokeStyle=r.toString(),this.ctx.stroke()},l.prototype.drawShape=function(e,c){this.shape(e),this.setFillStyle(c).fill()},l.prototype.taints=function(e){if(e.tainted===null){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch{this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},l.prototype.drawImage=function(e,c,g,y,x,r,m,f,w){(!this.taints(e)||this.options.allowTaint)&&this.ctx.drawImage(e.image,c,g,y,x,r,m,f,w)},l.prototype.clip=function(e,c,g){this.ctx.save(),e.filter(o).forEach(function(y){this.shape(y).clip()},this),c.call(g),this.ctx.restore()},l.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(c,g){c[0]==="rect"?this.ctx.rect.apply(this.ctx,c.slice(1)):this.ctx[g===0?"moveTo":c[0]+"To"].apply(this.ctx,c.slice(1))},this),this.ctx.closePath(),this.ctx},l.prototype.font=function(e,c,g,y,x,r){this.setFillStyle(e).font=[c,g,y,x,r].join(" ").split(",")[0]},l.prototype.fontShadow=function(e,c,g,y){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",c).setVariable("shadowOffsetX",g).setVariable("shadowBlur",y)},l.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},l.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},l.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},l.prototype.setVariable=function(e,c){return this.variables[e]!==c&&(this.variables[e]=this.ctx[e]=c),this},l.prototype.text=function(e,c,g){this.ctx.fillText(e,c,g)},l.prototype.backgroundRepeatShape=function(e,c,g,y,x,r,m,f,w){var C=[["line",Math.round(x),Math.round(r)],["line",Math.round(x+m),Math.round(r)],["line",Math.round(x+m),Math.round(f+r)],["line",Math.round(x),Math.round(f+r)]];this.clip([C],function(){this.renderBackgroundRepeat(e,c,g,y,w[3],w[0])},this)},l.prototype.renderBackgroundRepeat=function(e,c,g,y,x,r){var m=Math.round(y.left+c.left+x),f=Math.round(y.top+c.top+r);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,g),"repeat")),this.ctx.translate(m,f),this.ctx.fill(),this.ctx.translate(-m,-f)},l.prototype.renderBackgroundGradient=function(e,c){if(e instanceof s){var g=this.ctx.createLinearGradient(c.left+c.width*e.x0,c.top+c.height*e.y0,c.left+c.width*e.x1,c.top+c.height*e.y1);e.colorStops.forEach(function(y){g.addColorStop(y.stop,y.color.toString())}),this.rectangle(c.left,c.top,c.width,c.height,g)}},l.prototype.resizeImage=function(e,c){var g=e.image;if(g.width===c.width&&g.height===c.height)return g;var y,x=document.createElement("canvas");return x.width=c.width,x.height=c.height,y=x.getContext("2d"),y.drawImage(g,0,0,g.width,g.height,0,0,c.width,c.height),x};function o(e){return e.length>0}S.exports=l},function(S,p,i){var n=i(5);function h(s,d,l,o,e){this.width=s,this.height=d,this.images=l,this.options=o,this.document=e}h.prototype.renderImage=function(s,d,l,o){var e=s.cssInt("paddingLeft"),c=s.cssInt("paddingTop"),g=s.cssInt("paddingRight"),y=s.cssInt("paddingBottom"),x=l.borders,r=d.width-(x[1].width+x[3].width+e+g),m=d.height-(x[0].width+x[2].width+c+y);this.drawImage(o,0,0,o.image.width||r,o.image.height||m,d.left+e+x[3].width,d.top+c+x[0].width,r,m)},h.prototype.renderBackground=function(s,d,l){d.height>0&&d.width>0&&(this.renderBackgroundColor(s,d),this.renderBackgroundImage(s,d,l))},h.prototype.renderBackgroundColor=function(s,d){var l=s.color("backgroundColor");l.isTransparent()||this.rectangle(d.left,d.top,d.width,d.height,l)},h.prototype.renderBorders=function(s){s.forEach(this.renderBorder,this)},h.prototype.renderBorder=function(s){!s.color.isTransparent()&&s.args!==null&&this.drawShape(s.args,s.color)},h.prototype.renderBackgroundImage=function(s,d,l){var o=s.parseBackgroundImages();o.reverse().forEach(function(e,c,g){switch(e.method){case"url":var y=this.images.get(e.args[0]);y?this.renderBackgroundRepeating(s,d,y,g.length-(c+1),l):n("Error loading background-image",e.args[0]);break;case"linear-gradient":case"gradient":var x=this.images.get(e.value);x?this.renderBackgroundGradient(x,d,l):n("Error loading background-image",e.args[0]);break;case"none":break;default:n("Unknown background-image type",e.args[0])}},this)},h.prototype.renderBackgroundRepeating=function(s,d,l,o,e){var c=s.parseBackgroundSize(d,l.image,o),g=s.parseBackgroundPosition(d,l.image,o,c),y=s.parseBackgroundRepeat(o);switch(y){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(l,g,c,d,d.left+e[3],d.top+g.top+e[0],99999,c.height,e);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(l,g,c,d,d.left+g.left+e[3],d.top+e[0],c.width,99999,e);break;case"no-repeat":this.backgroundRepeatShape(l,g,c,d,d.left+g.left+e[3],d.top+g.top+e[0],c.width,c.height,e);break;default:this.renderBackgroundRepeat(l,g,c,{top:d.top,left:d.left},e[3],e[0]);break}},S.exports=h},function(S,p){var i=function n(){n.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-n.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};i.options={logging:!1},S.exports=i},function(S,p,i){var n=i(7),h=i(8);function s(d){n.apply(this,arguments),this.type=n.TYPES.LINEAR;var l=s.REGEXP_DIRECTION.test(d.args[0])||!n.REGEXP_COLORSTOP.test(d.args[0]);l?d.args[0].split(/\s+/).reverse().forEach(function(o,e){switch(o){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var c=this.y0,g=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=g,this.y1=c;break;case"center":break;default:var y=parseFloat(o,10)*.01;if(isNaN(y))break;e===0?(this.y0=y,this.y1=1-this.y0):(this.x0=y,this.x1=1-this.x0);break}},this):(this.y0=0,this.y1=1),this.colorStops=d.args.slice(l?1:0).map(function(o){var e=o.match(n.REGEXP_COLORSTOP),c=+e[2],g=c===0?"%":e[3];return{color:new h(e[1]),stop:g==="%"?c/100:null}}),this.colorStops[0].stop===null&&(this.colorStops[0].stop=0),this.colorStops[this.colorStops.length-1].stop===null&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(o,e){o.stop===null&&this.colorStops.slice(e).some(function(c,g){return c.stop!==null?(o.stop=(c.stop-this.colorStops[e-1].stop)/(g+1)+this.colorStops[e-1].stop,!0):!1},this)},this)}s.prototype=Object.create(n.prototype),s.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,S.exports=s},function(S,p){function i(n){this.src=n.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}i.TYPES={LINEAR:1,RADIAL:2},i.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,S.exports=i},function(S,p){function i(o){this.r=0,this.g=0,this.b=0,this.a=null,this.fromArray(o)||this.namedColor(o)||this.rgb(o)||this.rgba(o)||this.hex6(o)||this.hex3(o)}i.prototype.darken=function(o){var e=1-o;return new i([Math.round(this.r*e),Math.round(this.g*e),Math.round(this.b*e),this.a])},i.prototype.isTransparent=function(){return this.a===0},i.prototype.isBlack=function(){return this.r===0&&this.g===0&&this.b===0},i.prototype.fromArray=function(o){return Array.isArray(o)&&(this.r=Math.min(o[0],255),this.g=Math.min(o[1],255),this.b=Math.min(o[2],255),o.length>3&&(this.a=o[3])),Array.isArray(o)};var n=/^#([a-f0-9]{3})$/i;i.prototype.hex3=function(o){var e=null;return(e=o.match(n))!==null&&(this.r=parseInt(e[1][0]+e[1][0],16),this.g=parseInt(e[1][1]+e[1][1],16),this.b=parseInt(e[1][2]+e[1][2],16)),e!==null};var h=/^#([a-f0-9]{6})$/i;i.prototype.hex6=function(o){var e=null;return(e=o.match(h))!==null&&(this.r=parseInt(e[1].substring(0,2),16),this.g=parseInt(e[1].substring(2,4),16),this.b=parseInt(e[1].substring(4,6),16)),e!==null};var s=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;i.prototype.rgb=function(o){var e=null;return(e=o.match(s))!==null&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3])),e!==null};var d=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;i.prototype.rgba=function(o){var e=null;return(e=o.match(d))!==null&&(this.r=Number(e[1]),this.g=Number(e[2]),this.b=Number(e[3]),this.a=Number(e[4])),e!==null},i.prototype.toString=function(){return this.a!==null&&this.a!==1?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},i.prototype.namedColor=function(o){o=o.toLowerCase();var e=l[o];if(e)this.r=e[0],this.g=e[1],this.b=e[2];else if(o==="transparent")return this.r=this.g=this.b=this.a=0,!0;return!!e},i.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};S.exports=i},function(S,p,i){var n=i(5),h=i(10),s=i(11),d=i(13),l=i(17),o=i(18),e=i(19),c=i(6),g=i(20),y=i(12).bind;function x(r,m){this.link=null,this.options=r,this.support=m,this.origin=this.getOrigin(window.location.href)}x.prototype.findImages=function(r){var m=[];return r.reduce(function(f,w){switch(w.node.nodeName){case"IMG":return f.concat([{args:[w.node.src],method:"url"}]);case"svg":case"IFRAME":return f.concat([{args:[w.node],method:w.node.nodeName}])}return f},[]).forEach(this.addImage(m,this.loadImage),this),m},x.prototype.findBackgroundImage=function(r,m){return m.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(r,this.loadImage),this),r},x.prototype.addImage=function(r,m){return function(f){f.args.forEach(function(w){this.imageExists(r,w)||(r.splice(0,0,m.call(this,f)),n("Added image #"+r.length,typeof w=="string"?w.substring(0,100):w))},this)}},x.prototype.hasImageBackground=function(r){return r.method!=="none"},x.prototype.loadImage=function(r){if(r.method==="url"){var m=r.args[0];return this.isSVG(m)&&!this.support.svg&&!this.options.allowTaint?new o(m):m.match(/data:image\/.*;base64,/i)?new h(m.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),!1):this.isSameOrigin(m)||this.options.allowTaint===!0||this.isSVG(m)?new h(m,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new h(m,!0):this.options.proxy?new d(m,this.options.proxy):new s(m)}else return r.method==="linear-gradient"?new c(r):r.method==="gradient"?new g(r):r.method==="svg"?new e(r.args[0],this.support.svg):r.method==="IFRAME"?new l(r.args[0],this.isSameOrigin(r.args[0].src),this.options):new s(r)},x.prototype.isSVG=function(r){return r.substring(r.length-3).toLowerCase()==="svg"||o.prototype.isInline(r)},x.prototype.imageExists=function(r,m){return r.some(function(f){return f.src===m})},x.prototype.isSameOrigin=function(r){return this.getOrigin(r)===this.origin},x.prototype.getOrigin=function(r){var m=this.link||(this.link=document.createElement("a"));return m.href=r,m.href=m.href,m.protocol+m.hostname+m.port},x.prototype.getPromise=function(r){return this.timeout(r,this.options.imageTimeout).catch(function(){var m=new s(r.src);return m.promise.then(function(f){r.image=f})})},x.prototype.get=function(r){var m=null;return this.images.some(function(f){return(m=f).src===r})?m:null},x.prototype.fetch=function(r){return this.images=r.reduce(y(this.findBackgroundImage,this),this.findImages(r)),this.images.forEach(function(m,f){m.promise.then(function(){n("Succesfully loaded image #"+(f+1),m)},function(w){n("Failed loading image #"+(f+1),m,w)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),n("Finished searching images"),this},x.prototype.timeout=function(r,m){var f,w=Promise.race([r.promise,new Promise(function(C,I){f=setTimeout(function(){n("Timed out loading image",r),I(r)},m)})]).then(function(C){return clearTimeout(f),C});return w.catch(function(){clearTimeout(f)}),w},S.exports=x},function(S,p){function i(n,h){this.src=n,this.image=new Image;var s=this;this.tainted=null,this.promise=new Promise(function(d,l){s.image.onload=d,s.image.onerror=l,h&&(s.image.crossOrigin="anonymous"),s.image.src=n,s.image.complete===!0&&d(s.image)})}S.exports=i},function(S,p,i){var n=i(5),h=i(12).smallImage;function s(d){if(this.src=d,n("DummyImageContainer for",d),!this.promise||!this.image){n("Initiating DummyImageContainer"),s.prototype.image=new Image;var l=this.image;s.prototype.promise=new Promise(function(o,e){l.onload=o,l.onerror=e,l.src=h(),l.complete===!0&&o(l)})}}S.exports=s},function(S,p){p.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},p.bind=function(i,n){return function(){return i.apply(n,arguments)}},p.decode64=function(i){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=i.length,s,d,l,o,e,c,g,y,x="";for(s=0;s<h;s+=4)d=n.indexOf(i[s]),l=n.indexOf(i[s+1]),o=n.indexOf(i[s+2]),e=n.indexOf(i[s+3]),c=d<<2|l>>4,g=(l&15)<<4|o>>2,y=(o&3)<<6|e,o===64?x+=String.fromCharCode(c):e===64||e===-1?x+=String.fromCharCode(c,g):x+=String.fromCharCode(c,g,y);return x},p.getBounds=function(i){if(i.getBoundingClientRect){var n=i.getBoundingClientRect(),h=i.offsetWidth==null?n.width:i.offsetWidth;return{top:n.top,bottom:n.bottom||n.top+n.height,right:n.left+h,left:n.left,width:h,height:i.offsetHeight==null?n.height:i.offsetHeight}}return{}},p.offsetBounds=function(i){var n=i.offsetParent?p.offsetBounds(i.offsetParent):{top:0,left:0};return{top:i.offsetTop+n.top,bottom:i.offsetTop+i.offsetHeight+n.top,right:i.offsetLeft+n.left+i.offsetWidth,left:i.offsetLeft+n.left,width:i.offsetWidth,height:i.offsetHeight}},p.parseBackgrounds=function(i){var n=` \r
	`,h,s,d,l,o,e=[],c=0,g=0,y,x,r=function(){h&&(s.substr(0,1)==='"'&&(s=s.substr(1,s.length-2)),s&&x.push(s),h.substr(0,1)==="-"&&(l=h.indexOf("-",1)+1)>0&&(d=h.substr(0,l),h=h.substr(l)),e.push({prefix:d,method:h.toLowerCase(),value:o,args:x,image:null})),x=[],h=d=s=o=""};return x=[],h=d=s=o="",i.split("").forEach(function(m){if(!(c===0&&n.indexOf(m)>-1)){switch(m){case'"':y?y===m&&(y=null):y=m;break;case"(":if(y)break;if(c===0){c=1,o+=m;return}else g++;break;case")":if(y)break;if(c===1)if(g===0){c=0,o+=m,r();return}else g--;break;case",":if(y)break;if(c===0){r();return}else if(c===1&&g===0&&!h.match(/^url$/i)){x.push(s),s="",o+=m;return}break}o+=m,c===0?h+=m:s+=m}}),r(),e}},function(S,p,i){var n=i(14).ProxyURL;function h(s,d){var l=document.createElement("a");l.href=s,s=l.href,this.src=s,this.image=new Image;var o=this;this.promise=new Promise(function(e,c){o.image.crossOrigin="Anonymous",o.image.onload=e,o.image.onerror=c,new n(s,d,document).then(function(g){o.image.src=g}).catch(c)})}S.exports=h},function(S,p,i){var n=i(15),h=i(12),s=i(5),d=i(16),l=h.decode64;function o(f,w,C){var I="withCredentials"in new XMLHttpRequest;if(!w)return Promise.reject("No proxy configured");var O=y(I),M=x(w,f,O);return I?n(M):g(C,M,O).then(function(D){return l(D.content)})}var e=0;function c(f,w,C){var I="crossOrigin"in new Image,O=y(I),M=x(w,f,O);return I?Promise.resolve(M):g(C,M,O).then(function(D){return"data:"+D.type+";base64,"+D.content})}function g(f,w,C){return new Promise(function(I,O){var M=f.createElement("script"),D=function(){delete window.html2canvas.proxy[C],f.body.removeChild(M)};window.html2canvas.proxy[C]=function(F){D(),I(F)},M.src=w,M.onerror=function(F){D(),O(F)},f.body.appendChild(M)})}function y(f){return f?"":"html2canvas_"+Date.now()+"_"+ ++e+"_"+Math.round(Math.random()*1e5)}function x(f,w,C){return f+"?url="+encodeURIComponent(w)+(C.length?"&callback=html2canvas.proxy."+C:"")}function r(f){return function(w){var C=new DOMParser,I;try{I=C.parseFromString(w,"text/html")}catch{s("DOMParser not supported, falling back to createHTMLDocument"),I=document.implementation.createHTMLDocument("");try{I.open(),I.write(w),I.close()}catch{s("createHTMLDocument write not supported, falling back to document.body.innerHTML"),I.body.innerHTML=w}}var O=I.querySelector("base");if(!O||!O.href.host){var M=I.createElement("base");M.href=f,I.head.insertBefore(M,I.head.firstChild)}return I}}function m(f,w,C,I,O,M){return new o(f,w,window.document).then(r(f)).then(function(D){return d(D,C,I,O,M,0,0)})}p.Proxy=o,p.ProxyURL=c,p.loadUrlDocument=m},function(S,p){function i(n){return new Promise(function(h,s){var d=new XMLHttpRequest;d.open("GET",n),d.onload=function(){d.status===200?h(d.responseText):s(new Error(d.statusText))},d.onerror=function(){s(new Error("Network Error"))},d.send()})}S.exports=i},function(S,p,i){var n=i(5);function h(o,e,c){o.defaultView&&(e!==o.defaultView.pageXOffset||c!==o.defaultView.pageYOffset)&&o.defaultView.scrollTo(e,c)}function s(o,e){try{e&&(e.width=o.width,e.height=o.height,e.getContext("2d").putImageData(o.getContext("2d").getImageData(0,0,o.width,o.height),0,0))}catch(c){n("Unable to copy canvas content from",o,c)}}function d(o,e){for(var c=o.nodeType===3?document.createTextNode(o.nodeValue):o.cloneNode(!1),g=o.firstChild;g;)(e===!0||g.nodeType!==1||g.nodeName!=="SCRIPT")&&c.appendChild(d(g,e)),g=g.nextSibling;return o.nodeType===1&&(c._scrollTop=o.scrollTop,c._scrollLeft=o.scrollLeft,o.nodeName==="CANVAS"?s(o,c):(o.nodeName==="TEXTAREA"||o.nodeName==="SELECT")&&(c.value=o.value)),c}function l(o){if(o.nodeType===1){o.scrollTop=o._scrollTop,o.scrollLeft=o._scrollLeft;for(var e=o.firstChild;e;)l(e),e=e.nextSibling}}S.exports=function(o,e,c,g,y,x,r){var m=d(o.documentElement,y.javascriptEnabled),f=e.createElement("iframe");return f.className="html2canvas-container",f.style.visibility="hidden",f.style.position="fixed",f.style.left="-10000px",f.style.top="0px",f.style.border="0",f.width=c,f.height=g,f.scrolling="no",e.body.appendChild(f),new Promise(function(w){var C=f.contentWindow.document;f.contentWindow.onload=f.onload=function(){var I=setInterval(function(){C.body.childNodes.length>0&&(l(C.documentElement),clearInterval(I),y.type==="view"&&(f.contentWindow.scrollTo(x,r),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(f.contentWindow.scrollY!==r||f.contentWindow.scrollX!==x)&&(C.documentElement.style.top=-r+"px",C.documentElement.style.left=-x+"px",C.documentElement.style.position="absolute")),w(f))},50)},C.open(),C.write("<!DOCTYPE html><html></html>"),h(o,x,r),C.replaceChild(C.adoptNode(m),C.documentElement),C.close()})}},function(S,p,i){var n=i(12),h=n.getBounds,s=i(14).loadUrlDocument;function d(l,o,e){this.image=null,this.src=l;var c=this,g=h(l);this.promise=(o?new Promise(function(y){l.contentWindow.document.URL==="about:blank"||l.contentWindow.document.documentElement==null?l.contentWindow.onload=l.onload=function(){y(l)}:y(l)}):this.proxyLoad(e.proxy,g,e)).then(function(y){var x=i(1);return x(y.contentWindow.document.documentElement,{type:"view",width:y.width,height:y.height,proxy:e.proxy,javascriptEnabled:e.javascriptEnabled,removeContainer:e.removeContainer,allowTaint:e.allowTaint,imageTimeout:e.imageTimeout/2})}).then(function(y){return c.image=y})}d.prototype.proxyLoad=function(l,o,e){var c=this.src;return s(c.src,l,c.ownerDocument,o.width,o.height,e)},S.exports=d},function(S,p,i){var n=i(15),h=i(12).decode64;function s(d){this.src=d,this.image=null;var l=this;this.promise=this.hasFabric().then(function(){return l.isInline(d)?Promise.resolve(l.inlineFormatting(d)):n(d)}).then(function(o){return new Promise(function(e){window.html2canvas.svg.fabric.loadSVGFromString(o,l.createCanvas.call(l,e))})})}s.prototype.hasFabric=function(){return!window.html2canvas.svg||!window.html2canvas.svg.fabric?Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg")):Promise.resolve()},s.prototype.inlineFormatting=function(d){return/^data:image\/svg\+xml;base64,/.test(d)?this.decode64(this.removeContentType(d)):this.removeContentType(d)},s.prototype.removeContentType=function(d){return d.replace(/^data:image\/svg\+xml(;base64)?,/,"")},s.prototype.isInline=function(d){return/^data:image\/svg\+xml/i.test(d)},s.prototype.createCanvas=function(d){var l=this;return function(o,e){var c=new window.html2canvas.svg.fabric.StaticCanvas("c");l.image=c.lowerCanvasEl,c.setWidth(e.width).setHeight(e.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(o,e)).renderAll(),d(c.lowerCanvasEl)}},s.prototype.decode64=function(d){return typeof window.atob=="function"?window.atob(d):h(d)},S.exports=s},function(S,p,i){var n=i(18);function h(s,d){this.src=s,this.image=null;var l=this;this.promise=d?new Promise(function(o,e){l.image=new Image,l.image.onload=o,l.image.onerror=e,l.image.src="data:image/svg+xml,"+new XMLSerializer().serializeToString(s),l.image.complete===!0&&o(l.image)}):this.hasFabric().then(function(){return new Promise(function(o){window.html2canvas.svg.fabric.parseSVGDocument(s,l.createCanvas.call(l,o))})})}h.prototype=Object.create(n.prototype),S.exports=h},function(S,p,i){var n=i(7);function h(s){n.apply(this,arguments),this.type=s.args[0]==="linear"?n.TYPES.LINEAR:n.TYPES.RADIAL}h.prototype=Object.create(n.prototype),S.exports=h},function(S,p,i){var n=i(5),h=i(22),s=i(24),d=i(25),l=i(26),o=i(27),e=i(8),c=i(29),g=i(12),y=g.bind,x=g.getBounds,r=g.parseBackgrounds,m=g.offsetBounds;function f(t,a,u,v,E){n("Starting NodeParser"),this.renderer=a,this.options=E,this.range=null,this.support=u,this.renderQueue=[],this.stack=new c(!0,1,t.ownerDocument,null);var k=new s(t,null);if(E.background&&a.rectangle(0,0,a.width,a.height,new e(E.background)),t===t.ownerDocument.documentElement){var b=new s(k.color("backgroundColor").isTransparent()?t.ownerDocument.body:t.ownerDocument.documentElement,null);a.rectangle(0,0,a.width,a.height,b.color("backgroundColor"))}k.visibile=k.isElementVisible(),this.createPseudoHideStyles(t.ownerDocument),this.disableAnimations(t.ownerDocument),this.nodes=V([k].concat(this.getChildren(k)).filter(function(T){return T.visible=T.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new o,n("Fetched nodes, total:",this.nodes.length),n("Calculate overflow clips"),this.calculateOverflowClips(),n("Start fetching images"),this.images=v.fetch(this.nodes.filter(B)),this.ready=this.images.ready.then(y(function(){return n("Images loaded, starting parsing"),n("Creating stacking contexts"),this.createStackingContexts(),n("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),n("Render queue created with "+this.renderQueue.length+" items"),new Promise(y(function(T){E.async?typeof E.async=="function"?E.async.call(this,this.renderQueue,T):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,T)):T():(this.renderQueue.forEach(this.paint,this),T())},this))},this))}f.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(t){if(B(t)){z(t)&&t.appendToDOM(),t.borders=this.parseBorders(t);var a=t.css("overflow")==="hidden"?[t.borders.clip]:[],u=t.parseClip();u&&["absolute","fixed"].indexOf(t.css("position"))!==-1&&a.push([["rect",t.bounds.left+u.left,t.bounds.top+u.top,u.right-u.left,u.bottom-u.top]]),t.clip=w(t)?t.parent.clip.concat(a):a,t.backgroundClip=t.css("overflow")!=="hidden"?t.clip.concat([t.borders.clip]):t.clip,z(t)&&t.cleanDOM()}else H(t)&&(t.clip=w(t)?t.parent.clip:[]);z(t)||(t.bounds=null)},this)};function w(t){return t.parent&&t.parent.clip.length}f.prototype.asyncRenderer=function(t,a,u){u=u||Date.now(),this.paint(t[this.renderIndex++]),t.length===this.renderIndex?a():u+20>Date.now()?this.asyncRenderer(t,a,u):setTimeout(y(function(){this.asyncRenderer(t,a)},this),0)},f.prototype.createPseudoHideStyles=function(t){this.createStyles(t,"."+l.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+l.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},f.prototype.disableAnimations=function(t){this.createStyles(t,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},f.prototype.createStyles=function(t,a){if(!window.hidePseudoElementsAdded){window.hidePseudoElementsAdded=!0;var u=t.createElement("style");u.innerHTML=a,t.body.appendChild(u)}},f.prototype.getPseudoElements=function(t){var a=[[t]];if(t.node.nodeType===Node.ELEMENT_NODE){var u=this.getPseudoElement(t,":before"),v=this.getPseudoElement(t,":after");u&&a.push(u),v&&a.push(v)}return V(a)};function C(t){return t.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})}f.prototype.getPseudoElement=function(t,a){var u=t.computedStyle(a);if(!u||!u.content||u.content==="none"||u.content==="-moz-alt-content"||u.display==="none")return null;for(var v=X(u.content),E=v.substr(0,3)==="url",k=document.createElement(E?"img":"html2canvaspseudoelement"),b=new l(k,t,a),T=u.length-1;T>=0;T--){var L=C(u.item(T));k.style[L]=u[L]}if(k.className=l.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+l.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,E)return k.src=r(v)[0].args[0],[b];var P=document.createTextNode(v);return k.appendChild(P),[b,new d(P,b)]},f.prototype.getChildren=function(t){return V([].filter.call(t.node.childNodes,mt).map(function(a){var u=[a.nodeType===Node.TEXT_NODE?new d(a,t):new s(a,t)].filter(U);return a.nodeType===Node.ELEMENT_NODE&&u.length&&a.tagName!=="TEXTAREA"?u[0].isElementVisible()?u.concat(this.getChildren(u[0])):[]:u},this))},f.prototype.newStackingContext=function(t,a){var u=new c(a,t.getOpacity(),t.node,t.parent);t.cloneTo(u);var v=a?u.getParentStack(this):u.parent.stack;v.contexts.push(u),t.stack=u},f.prototype.createStackingContexts=function(){this.nodes.forEach(function(t){B(t)&&(this.isRootElement(t)||$(t)||yt(t)||this.isBodyWithTransparentRoot(t)||t.hasTransform())?this.newStackingContext(t,!0):B(t)&&(A(t)&&rt(t)||_(t)||R(t))?this.newStackingContext(t,!1):t.assignStack(t.parent.stack)},this)},f.prototype.isBodyWithTransparentRoot=function(t){return t.node.nodeName==="BODY"&&t.parent.color("backgroundColor").isTransparent()},f.prototype.isRootElement=function(t){return t.parent===null},f.prototype.sortStackingContexts=function(t){t.contexts.sort(j(t.contexts.slice(0))),t.contexts.forEach(this.sortStackingContexts,this)},f.prototype.parseTextBounds=function(t){return function(a,u,v){if(t.parent.css("textDecoration").substr(0,4)!=="none"||a.trim().length!==0){if(this.support.rangeBounds&&!t.parent.hasTransform()){var E=v.slice(0,u).join("").length;return this.getRangeBounds(t.node,E,a.length)}else if(t.node&&typeof t.node.data=="string"){var k=t.node.splitText(a.length),b=this.getWrapperBounds(t.node,t.parent.hasTransform());return t.node=k,b}}else(!this.support.rangeBounds||t.parent.hasTransform())&&(t.node=t.node.splitText(a.length));return{}}},f.prototype.getWrapperBounds=function(t,a){var u=t.ownerDocument.createElement("html2canvaswrapper"),v=t.parentNode,E=t.cloneNode(!0);u.appendChild(t.cloneNode(!0)),v.replaceChild(u,t);var k=a?m(u):x(u);return v.replaceChild(E,u),k},f.prototype.getRangeBounds=function(t,a,u){var v=this.range||(this.range=t.ownerDocument.createRange());return v.setStart(t,a),v.setEnd(t,a+u),v.getBoundingClientRect()};function I(){}f.prototype.parse=function(t){var a=t.contexts.filter(at),u=t.children.filter(B),v=u.filter(N(R)),E=v.filter(N(A)).filter(N(lt)),k=u.filter(N(A)).filter(R),b=v.filter(N(A)).filter(lt),T=t.contexts.concat(v.filter(A)).filter(rt),L=t.children.filter(H).filter(ct),P=t.contexts.filter(ht);a.concat(E).concat(k).concat(b).concat(T).concat(L).concat(P).forEach(function(tt){this.renderQueue.push(tt),nt(tt)&&(this.parse(tt),this.renderQueue.push(new I))},this)},f.prototype.paint=function(t){try{t instanceof I?this.renderer.ctx.restore():H(t)?(z(t.parent)&&t.parent.appendToDOM(),this.paintText(t),z(t.parent)&&t.parent.cleanDOM()):this.paintNode(t)}catch(a){if(n(a),this.options.strict)throw a}},f.prototype.paintNode=function(t){nt(t)&&(this.renderer.setOpacity(t.opacity),this.renderer.ctx.save(),t.hasTransform()&&this.renderer.setTransform(t.parseTransform())),t.node.nodeName==="INPUT"&&t.node.type==="checkbox"?this.paintCheckbox(t):t.node.nodeName==="INPUT"&&t.node.type==="radio"?this.paintRadio(t):this.paintElement(t)},f.prototype.paintElement=function(t){var a=t.parseBounds();this.renderer.clip(t.backgroundClip,function(){this.renderer.renderBackground(t,a,t.borders.borders.map(K))},this),this.renderer.clip(t.clip,function(){this.renderer.renderBorders(t.borders.borders)},this),this.renderer.clip(t.backgroundClip,function(){switch(t.node.nodeName){case"svg":case"IFRAME":var u=this.images.get(t.node);u?this.renderer.renderImage(t,a,t.borders,u):n("Error loading <"+t.node.nodeName+">",t.node);break;case"IMG":var v=this.images.get(t.node.src);v?this.renderer.renderImage(t,a,t.borders,v):n("Error loading <img>",t.node.src);break;case"CANVAS":this.renderer.renderImage(t,a,t.borders,{image:t.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(t);break}},this)},f.prototype.paintCheckbox=function(t){var a=t.parseBounds(),u=Math.min(a.width,a.height),v={width:u-1,height:u-1,top:a.top,left:a.left},E=[3,3],k=[E,E,E,E],b=[1,1,1,1].map(function(L){return{color:new e("#A5A5A5"),width:L}}),T=F(v,k,b);this.renderer.clip(t.backgroundClip,function(){this.renderer.rectangle(v.left+1,v.top+1,v.width-2,v.height-2,new e("#DEDEDE")),this.renderer.renderBorders(M(b,v,T,k)),t.node.checked&&(this.renderer.font(new e("#424242"),"normal","normal","bold",u-3+"px","arial"),this.renderer.text("âœ”",v.left+u/6,v.top+u-1))},this)},f.prototype.paintRadio=function(t){var a=t.parseBounds(),u=Math.min(a.width,a.height)-2;this.renderer.clip(t.backgroundClip,function(){this.renderer.circleStroke(a.left+1,a.top+1,u,new e("#DEDEDE"),1,new e("#A5A5A5")),t.node.checked&&this.renderer.circle(Math.ceil(a.left+u/4)+1,Math.ceil(a.top+u/4)+1,Math.floor(u/2),new e("#424242"))},this)},f.prototype.paintFormValue=function(t){var a=t.getValue();if(a.length>0){var u=t.node.ownerDocument,v=u.createElement("html2canvaswrapper"),E=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];E.forEach(function(b){try{v.style[b]=t.css(b)}catch(T){n("html2canvas: Parse: Exception caught in renderFormValue: "+T.message)}});var k=t.parseBounds();v.style.position="fixed",v.style.left=k.left+"px",v.style.top=k.top+"px",v.textContent=a,u.body.appendChild(v),this.paintText(new d(v.firstChild,t)),u.body.removeChild(v)}},f.prototype.paintText=function(t){t.applyTextTransform();var a=h.ucs2.decode(t.node.data),u=(!this.options.letterRendering||ut(t))&&!ot(t.node.data)?Z(a):a.map(function(T){return h.ucs2.encode([T])}),v=t.parent.fontWeight(),E=t.parent.css("fontSize"),k=t.parent.css("fontFamily"),b=t.parent.parseTextShadows();this.renderer.font(t.parent.color("color"),t.parent.css("fontStyle"),t.parent.css("fontVariant"),v,E,k),b.length?this.renderer.fontShadow(b[0].color,b[0].offsetX,b[0].offsetY,b[0].blur):this.renderer.clearShadow(),this.renderer.clip(t.parent.clip,function(){u.map(this.parseTextBounds(t),this).forEach(function(T,L){T&&(this.renderer.text(u[L],T.left,T.bottom),this.renderTextDecoration(t.parent,T,this.fontMetrics.getMetrics(k,E)))},this)},this)},f.prototype.renderTextDecoration=function(t,a,u){switch(t.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(a.left,Math.round(a.top+u.baseline+u.lineWidth),a.width,1,t.color("color"));break;case"overline":this.renderer.rectangle(a.left,Math.round(a.top),a.width,1,t.color("color"));break;case"line-through":this.renderer.rectangle(a.left,Math.ceil(a.top+u.middle+u.lineWidth),a.width,1,t.color("color"));break}};var O={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};f.prototype.parseBorders=function(t){var a=t.parseBounds(),u=dt(t),v=["Top","Right","Bottom","Left"].map(function(k,b){var T=t.css("border"+k+"Style"),L=t.color("border"+k+"Color");T==="inset"&&L.isBlack()&&(L=new e([255,255,255,L.a]));var P=O[T]?O[T][b]:null;return{width:t.cssInt("border"+k+"Width"),color:P?L[P[0]](P[1]):L,args:null}}),E=F(a,u,v);return{clip:this.parseBackgroundClip(t,E,v,u,a),borders:M(v,a,E,u)}};function M(t,a,u,v){return t.map(function(E,k){if(E.width>0){var b=a.left,T=a.top,L=a.width,P=a.height-t[2].width;switch(k){case 0:P=t[0].width,E.args=G({c1:[b,T],c2:[b+L,T],c3:[b+L-t[1].width,T+P],c4:[b+t[3].width,T+P]},v[0],v[1],u.topLeftOuter,u.topLeftInner,u.topRightOuter,u.topRightInner);break;case 1:b=a.left+a.width-t[1].width,L=t[1].width,E.args=G({c1:[b+L,T],c2:[b+L,T+P+t[2].width],c3:[b,T+P],c4:[b,T+t[0].width]},v[1],v[2],u.topRightOuter,u.topRightInner,u.bottomRightOuter,u.bottomRightInner);break;case 2:T=T+a.height-t[2].width,P=t[2].width,E.args=G({c1:[b+L,T+P],c2:[b,T+P],c3:[b+t[3].width,T],c4:[b+L-t[3].width,T]},v[2],v[3],u.bottomRightOuter,u.bottomRightInner,u.bottomLeftOuter,u.bottomLeftInner);break;case 3:L=t[3].width,E.args=G({c1:[b,T+P+t[2].width],c2:[b,T],c3:[b+L,T+t[0].width],c4:[b+L,T+P]},v[3],v[0],u.bottomLeftOuter,u.bottomLeftInner,u.topLeftOuter,u.topLeftInner);break}}return E})}f.prototype.parseBackgroundClip=function(t,a,u,v,E){var k=t.css("backgroundClip"),b=[];switch(k){case"content-box":case"padding-box":Y(b,v[0],v[1],a.topLeftInner,a.topRightInner,E.left+u[3].width,E.top+u[0].width),Y(b,v[1],v[2],a.topRightInner,a.bottomRightInner,E.left+E.width-u[1].width,E.top+u[0].width),Y(b,v[2],v[3],a.bottomRightInner,a.bottomLeftInner,E.left+E.width-u[1].width,E.top+E.height-u[2].width),Y(b,v[3],v[0],a.bottomLeftInner,a.topLeftInner,E.left+u[3].width,E.top+E.height-u[2].width);break;default:Y(b,v[0],v[1],a.topLeftOuter,a.topRightOuter,E.left,E.top),Y(b,v[1],v[2],a.topRightOuter,a.bottomRightOuter,E.left+E.width,E.top),Y(b,v[2],v[3],a.bottomRightOuter,a.bottomLeftOuter,E.left+E.width,E.top+E.height),Y(b,v[3],v[0],a.bottomLeftOuter,a.topLeftOuter,E.left,E.top+E.height);break}return b};function D(t,a,u,v){var E=4*((Math.sqrt(2)-1)/3),k=u*E,b=v*E,T=t+u,L=a+v;return{topLeft:W({x:t,y:L},{x:t,y:L-b},{x:T-k,y:a},{x:T,y:a}),topRight:W({x:t,y:a},{x:t+k,y:a},{x:T,y:L-b},{x:T,y:L}),bottomRight:W({x:T,y:a},{x:T,y:a+b},{x:t+k,y:L},{x:t,y:L}),bottomLeft:W({x:T,y:L},{x:T-k,y:L},{x:t,y:a+b},{x:t,y:a})}}function F(t,a,u){var v=t.left,E=t.top,k=t.width,b=t.height,T=a[0][0]<k/2?a[0][0]:k/2,L=a[0][1]<b/2?a[0][1]:b/2,P=a[1][0]<k/2?a[1][0]:k/2,tt=a[1][1]<b/2?a[1][1]:b/2,et=a[2][0]<k/2?a[2][0]:k/2,it=a[2][1]<b/2?a[2][1]:b/2,bt=a[3][0]<k/2?a[3][0]:k/2,vt=a[3][1]<b/2?a[3][1]:b/2,xt=k-P,Tt=b-it,Ct=k-et,St=b-vt;return{topLeftOuter:D(v,E,T,L).topLeft.subdivide(.5),topLeftInner:D(v+u[3].width,E+u[0].width,Math.max(0,T-u[3].width),Math.max(0,L-u[0].width)).topLeft.subdivide(.5),topRightOuter:D(v+xt,E,P,tt).topRight.subdivide(.5),topRightInner:D(v+Math.min(xt,k+u[3].width),E+u[0].width,xt>k+u[3].width?0:P-u[3].width,tt-u[0].width).topRight.subdivide(.5),bottomRightOuter:D(v+Ct,E+Tt,et,it).bottomRight.subdivide(.5),bottomRightInner:D(v+Math.min(Ct,k-u[3].width),E+Math.min(Tt,b+u[0].width),Math.max(0,et-u[1].width),it-u[2].width).bottomRight.subdivide(.5),bottomLeftOuter:D(v,E+St,bt,vt).bottomLeft.subdivide(.5),bottomLeftInner:D(v+u[3].width,E+St,Math.max(0,bt-u[3].width),vt-u[2].width).bottomLeft.subdivide(.5)}}function W(t,a,u,v){var E=function(b,T,L){return{x:b.x+(T.x-b.x)*L,y:b.y+(T.y-b.y)*L}};return{start:t,startControl:a,endControl:u,end:v,subdivide:function(b){var T=E(t,a,b),L=E(a,u,b),P=E(u,v,b),tt=E(T,L,b),et=E(L,P,b),it=E(tt,et,b);return[W(t,T,tt,it),W(it,et,P,v)]},curveTo:function(b){b.push(["bezierCurve",a.x,a.y,u.x,u.y,v.x,v.y])},curveToReversed:function(b){b.push(["bezierCurve",u.x,u.y,a.x,a.y,t.x,t.y])}}}function G(t,a,u,v,E,k,b){var T=[];return a[0]>0||a[1]>0?(T.push(["line",v[1].start.x,v[1].start.y]),v[1].curveTo(T)):T.push(["line",t.c1[0],t.c1[1]]),u[0]>0||u[1]>0?(T.push(["line",k[0].start.x,k[0].start.y]),k[0].curveTo(T),T.push(["line",b[0].end.x,b[0].end.y]),b[0].curveToReversed(T)):(T.push(["line",t.c2[0],t.c2[1]]),T.push(["line",t.c3[0],t.c3[1]])),a[0]>0||a[1]>0?(T.push(["line",E[1].end.x,E[1].end.y]),E[1].curveToReversed(T)):T.push(["line",t.c4[0],t.c4[1]]),T}function Y(t,a,u,v,E,k,b){a[0]>0||a[1]>0?(t.push(["line",v[0].start.x,v[0].start.y]),v[0].curveTo(t),v[1].curveTo(t)):t.push(["line",k,b]),(u[0]>0||u[1]>0)&&t.push(["line",E[0].start.x,E[0].start.y])}function at(t){return t.cssInt("zIndex")<0}function ht(t){return t.cssInt("zIndex")>0}function rt(t){return t.cssInt("zIndex")===0}function lt(t){return["inline","inline-block","inline-table"].indexOf(t.css("display"))!==-1}function nt(t){return t instanceof c}function ct(t){return t.node.data.trim().length>0}function ut(t){return/^(normal|none|0px)$/.test(t.parent.css("letterSpacing"))}function dt(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(a){var u=t.css("border"+a+"Radius"),v=u.split(" ");return v.length<=1&&(v[1]=v[0]),v.map(Q)})}function mt(t){return t.nodeType===Node.TEXT_NODE||t.nodeType===Node.ELEMENT_NODE}function yt(t){var a=t.css("position"),u=["absolute","relative","fixed"].indexOf(a)!==-1?t.css("zIndex"):"auto";return u!=="auto"}function A(t){return t.css("position")!=="static"}function R(t){return t.css("float")!=="none"}function _(t){return["inline-block","inline-table"].indexOf(t.css("display"))!==-1}function N(t){var a=this;return function(){return!t.apply(a,arguments)}}function B(t){return t.node.nodeType===Node.ELEMENT_NODE}function z(t){return t.isPseudoElement===!0}function H(t){return t.node.nodeType===Node.TEXT_NODE}function j(t){return function(a,u){return a.cssInt("zIndex")+t.indexOf(a)/t.length-(u.cssInt("zIndex")+t.indexOf(u)/t.length)}}function $(t){return t.getOpacity()<1}function Q(t){return parseInt(t,10)}function K(t){return t.width}function U(t){return t.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(t.node.nodeName)===-1}function V(t){return[].concat.apply([],t)}function X(t){var a=t.substr(0,1);return a===t.substr(t.length-1)&&a.match(/'|"/)?t.substr(1,t.length-2):t}function Z(t){for(var a=[],u=0,v=!1,E;t.length;)q(t[u])===v?(E=t.splice(0,u),E.length&&a.push(h.ucs2.encode(E)),v=!v,u=0):u++,u>=t.length&&(E=t.splice(0,u),E.length&&a.push(h.ucs2.encode(E)));return a}function q(t){return[32,13,10,9,45].indexOf(t)!==-1}function ot(t){return/[^\u0000-\u00ff]/.test(t)}S.exports=f},function(S,p,i){var n;(function(h,s){/*! https://mths.be/punycode v1.4.1 by @mathias */(function(d){typeof p=="object"&&p&&p.nodeType,typeof h=="object"&&h&&h.nodeType;var l=typeof s=="object"&&s;l.global===l||l.window===l||l.self;var o,e=2147483647,c=36,g=1,y=26,x=38,r=700,m=72,f=128,w="-",C=/^xn--/,I=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=c-g,F=Math.floor,W=String.fromCharCode;function G(A){throw new RangeError(M[A])}function Y(A,R){for(var _=A.length,N=[];_--;)N[_]=R(A[_]);return N}function at(A,R){var _=A.split("@"),N="";_.length>1&&(N=_[0]+"@",A=_[1]),A=A.replace(O,".");var B=A.split("."),z=Y(B,R).join(".");return N+z}function ht(A){for(var R=[],_=0,N=A.length,B,z;_<N;)B=A.charCodeAt(_++),B>=55296&&B<=56319&&_<N?(z=A.charCodeAt(_++),(z&64512)==56320?R.push(((B&1023)<<10)+(z&1023)+65536):(R.push(B),_--)):R.push(B);return R}function rt(A){return Y(A,function(R){var _="";return R>65535&&(R-=65536,_+=W(R>>>10&1023|55296),R=56320|R&1023),_+=W(R),_}).join("")}function lt(A){return A-48<10?A-22:A-65<26?A-65:A-97<26?A-97:c}function nt(A,R){return A+22+75*(A<26)-((R!=0)<<5)}function ct(A,R,_){var N=0;for(A=_?F(A/r):A>>1,A+=F(A/R);A>D*y>>1;N+=c)A=F(A/D);return F(N+(D+1)*A/(A+x))}function ut(A){var R=[],_=A.length,N,B=0,z=f,H=m,j,$,Q,K,U,V,X,Z,q;for(j=A.lastIndexOf(w),j<0&&(j=0),$=0;$<j;++$)A.charCodeAt($)>=128&&G("not-basic"),R.push(A.charCodeAt($));for(Q=j>0?j+1:0;Q<_;){for(K=B,U=1,V=c;Q>=_&&G("invalid-input"),X=lt(A.charCodeAt(Q++)),(X>=c||X>F((e-B)/U))&&G("overflow"),B+=X*U,Z=V<=H?g:V>=H+y?y:V-H,!(X<Z);V+=c)q=c-Z,U>F(e/q)&&G("overflow"),U*=q;N=R.length+1,H=ct(B-K,N,K==0),F(B/N)>e-z&&G("overflow"),z+=F(B/N),B%=N,R.splice(B++,0,z)}return rt(R)}function dt(A){var R,_,N,B,z,H,j,$,Q,K,U,V=[],X,Z,q,ot;for(A=ht(A),X=A.length,R=f,_=0,z=m,H=0;H<X;++H)U=A[H],U<128&&V.push(W(U));for(N=B=V.length,B&&V.push(w);N<X;){for(j=e,H=0;H<X;++H)U=A[H],U>=R&&U<j&&(j=U);for(Z=N+1,j-R>F((e-_)/Z)&&G("overflow"),_+=(j-R)*Z,R=j,H=0;H<X;++H)if(U=A[H],U<R&&++_>e&&G("overflow"),U==R){for($=_,Q=c;K=Q<=z?g:Q>=z+y?y:Q-z,!($<K);Q+=c)ot=$-K,q=c-K,V.push(W(nt(K+ot%q,0))),$=F(ot/q);V.push(W(nt($,0))),z=ct(_,Z,N==B),_=0,++N}++_,++R}return V.join("")}function mt(A){return at(A,function(R){return C.test(R)?ut(R.slice(4).toLowerCase()):R})}function yt(A){return at(A,function(R){return I.test(R)?"xn--"+dt(R):R})}o={version:"1.4.1",ucs2:{decode:ht,encode:rt},decode:ut,encode:dt,toASCII:yt,toUnicode:mt},n=(function(){return o}).call(p,i,p,h),n!==void 0&&(h.exports=n)})()}).call(p,i(23)(S),function(){return this}())},function(S,p){S.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children=[],i.webpackPolyfill=1),i}},function(S,p,i){var n=i(8),h=i(12),s=h.getBounds,d=h.parseBackgrounds,l=h.offsetBounds;function o(r,m){this.node=r,this.parent=m,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}o.prototype.cloneTo=function(r){r.visible=this.visible,r.borders=this.borders,r.bounds=this.bounds,r.clip=this.clip,r.backgroundClip=this.backgroundClip,r.computedStyles=this.computedStyles,r.styles=this.styles,r.backgroundImages=this.backgroundImages,r.opacity=this.opacity},o.prototype.getOpacity=function(){return this.opacity===null?this.opacity=this.cssFloat("opacity"):this.opacity},o.prototype.assignStack=function(r){this.stack=r,r.children.push(this)},o.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:this.css("display")!=="none"&&this.css("visibility")!=="hidden"&&!this.node.hasAttribute("data-html2canvas-ignore")&&(this.node.nodeName!=="INPUT"||this.node.getAttribute("type")!=="hidden")},o.prototype.css=function(r){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[r]||(this.styles[r]=this.computedStyles[r])},o.prototype.prefixedCss=function(r){var m=["webkit","moz","ms","o"],f=this.css(r);return f===void 0&&m.some(function(w){return f=this.css(w+r.substr(0,1).toUpperCase()+r.substr(1)),f!==void 0},this),f===void 0?null:f},o.prototype.computedStyle=function(r){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,r)},o.prototype.cssInt=function(r){var m=parseInt(this.css(r),10);return isNaN(m)?0:m},o.prototype.color=function(r){return this.colors[r]||(this.colors[r]=new n(this.css(r)))},o.prototype.cssFloat=function(r){var m=parseFloat(this.css(r));return isNaN(m)?0:m},o.prototype.fontWeight=function(){var r=this.css("fontWeight");switch(parseInt(r,10)){case 401:r="bold";break;case 400:r="normal";break}return r},o.prototype.parseClip=function(){var r=this.css("clip").match(this.CLIP);return r?{top:parseInt(r[1],10),right:parseInt(r[2],10),bottom:parseInt(r[3],10),left:parseInt(r[4],10)}:null},o.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=d(this.css("backgroundImage")))},o.prototype.cssList=function(r,m){var f=(this.css(r)||"").split(",");return f=f[m||0]||f[0]||"auto",f=f.trim().split(" "),f.length===1&&(f=[f[0],g(f[0])?"auto":f[0]]),f},o.prototype.parseBackgroundSize=function(r,m,f){var w=this.cssList("backgroundSize",f),C,I;if(g(w[0]))C=r.width*parseFloat(w[0])/100;else if(/contain|cover/.test(w[0])){var O=r.width/r.height,M=m.width/m.height;return O<M^w[0]==="contain"?{width:r.height*M,height:r.height}:{width:r.width,height:r.width/M}}else C=parseInt(w[0],10);return w[0]==="auto"&&w[1]==="auto"?I=m.height:w[1]==="auto"?I=C/m.width*m.height:g(w[1])?I=r.height*parseFloat(w[1])/100:I=parseInt(w[1],10),w[0]==="auto"&&(C=I/m.height*m.width),{width:C,height:I}},o.prototype.parseBackgroundPosition=function(r,m,f,w){var C=this.cssList("backgroundPosition",f),I,O;return g(C[0])?I=(r.width-(w||m).width)*(parseFloat(C[0])/100):I=parseInt(C[0],10),C[1]==="auto"?O=I/m.width*m.height:g(C[1])?O=(r.height-(w||m).height)*parseFloat(C[1])/100:O=parseInt(C[1],10),C[0]==="auto"&&(I=O/m.height*m.width),{left:I,top:O}},o.prototype.parseBackgroundRepeat=function(r){return this.cssList("backgroundRepeat",r)[0]},o.prototype.parseTextShadows=function(){var r=this.css("textShadow"),m=[];if(r&&r!=="none")for(var f=r.match(this.TEXT_SHADOW_PROPERTY),w=0;f&&w<f.length;w++){var C=f[w].match(this.TEXT_SHADOW_VALUES);m.push({color:new n(C[0]),offsetX:C[1]?parseFloat(C[1].replace("px","")):0,offsetY:C[2]?parseFloat(C[2].replace("px","")):0,blur:C[3]?C[3].replace("px",""):0})}return m},o.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var r=this.parseBounds(),m=this.prefixedCss("transformOrigin").split(" ").map(y).map(x);m[0]+=r.left,m[1]+=r.top,this.transformData={origin:m,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},o.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var r=this.prefixedCss("transform"),m=r?c(r.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=m||[1,0,0,1,0,0]}return this.transformMatrix},o.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?l(this.node):s(this.node))},o.prototype.hasTransform=function(){return this.parseTransformMatrix().join(",")!=="1,0,0,1,0,0"||this.parent&&this.parent.hasTransform()},o.prototype.getValue=function(){var r=this.node.value||"";return this.node.tagName==="SELECT"?r=e(this.node):this.node.type==="password"&&(r=Array(r.length+1).join("â€¢")),r.length===0?this.node.placeholder||"":r},o.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,o.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,o.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,o.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;function e(r){var m=r.options[r.selectedIndex||0];return m&&m.text||""}function c(r){if(r&&r[1]==="matrix")return r[2].split(",").map(function(f){return parseFloat(f.trim())});if(r&&r[1]==="matrix3d"){var m=r[2].split(",").map(function(f){return parseFloat(f.trim())});return[m[0],m[1],m[4],m[5],m[12],m[13]]}}function g(r){return r.toString().indexOf("%")!==-1}function y(r){return r.replace("px","")}function x(r){return parseFloat(r)}S.exports=o},function(S,p,i){var n=i(24);function h(d,l){n.call(this,d,l)}h.prototype=Object.create(n.prototype),h.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},h.prototype.transform=function(d){var l=this.node.data;switch(d){case"lowercase":return l.toLowerCase();case"capitalize":return l.replace(/(^|\s|:|-|\(|\))([a-z])/g,s);case"uppercase":return l.toUpperCase();default:return l}};function s(d,l,o){if(d.length>0)return l+o.toUpperCase()}S.exports=h},function(S,p,i){var n=i(24);function h(s,d,l){n.call(this,s,d),this.isPseudoElement=!0,this.before=l===":before"}h.prototype.cloneTo=function(s){h.prototype.cloneTo.call(this,s),s.isPseudoElement=!0,s.before=this.before},h.prototype=Object.create(n.prototype),h.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},h.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},h.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},h.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",h.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",S.exports=h},function(S,p,i){var n=i(28);function h(){this.data={}}h.prototype.getMetrics=function(s,d){return this.data[s+"-"+d]===void 0&&(this.data[s+"-"+d]=new n(s,d)),this.data[s+"-"+d]},S.exports=h},function(S,p,i){var n=i(12).smallImage;function h(s,d){var l=document.createElement("div"),o=document.createElement("img"),e=document.createElement("span"),c="Hidden Text",g,y;l.style.visibility="hidden",l.style.fontFamily=s,l.style.fontSize=d,l.style.margin=0,l.style.padding=0,document.body.appendChild(l),o.src=n(),o.width=1,o.height=1,o.style.margin=0,o.style.padding=0,o.style.verticalAlign="baseline",e.style.fontFamily=s,e.style.fontSize=d,e.style.margin=0,e.style.padding=0,e.appendChild(document.createTextNode(c)),l.appendChild(e),l.appendChild(o),g=o.offsetTop-e.offsetTop+1,l.removeChild(e),l.appendChild(document.createTextNode(c)),l.style.lineHeight="normal",o.style.verticalAlign="super",y=o.offsetTop-l.offsetTop+1,document.body.removeChild(l),this.baseline=g,this.lineWidth=1,this.middle=y}S.exports=h},function(S,p,i){var n=i(24);function h(s,d,l,o){n.call(this,l,o),this.ownStacking=s,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*d}h.prototype=Object.create(n.prototype),h.prototype.getParentStack=function(s){var d=this.parent?this.parent.stack:null;return d?d.ownStacking?d:d.getParentStack(s):s.stack},S.exports=h}])),kt}Ot();const{Vector3:Pt,Quaternion:zt,Euler:Ht}=THREE;class It{data;constructor(p){this.data={position:{x:p?.position?.x||0,y:p?.position?.y||0,z:p?.position?.z||0},rotation:{x:p?.rotation?.x||0,y:p?.rotation?.y||0,z:p?.rotation?.z||0},scale:{x:p?.scale?.x||0,y:p?.scale?.y||0,z:p?.scale?.z||0}}}update(p){p.position&&(this.data.position=p.position),p.rotation&&(this.data.rotation=p.rotation),p.scale&&(this.data.scale=p.scale)}getPosition(){return{...this.data.position}}getRotation(){return{...this.data.rotation}}getScale(){return{...this.data.scale}}static updateHtmlElement(p,i){const n=p.getPosition(),h=p.getRotation(),s=p.getScale();i.setAttribute("position",`${n.x} ${n.y} ${n.z}`),i.setAttribute("rotation",`${h.x} ${h.y} ${h.z}`),i.setAttribute("scale",`${s.x} ${s.y} ${s.z}`)}}function wt(S,p,i){return Math.max(p,Math.min(i,S))}class Mt{renderData;vectorRotationLimits;renderObj;htmlMeshObj;constructor(p){this.renderData=new It,this.vectorRotationLimits=p.rotationLimit||_t,this.htmlMeshObj=p.htmlElementToRender}init(){return new Promise((p,i)=>{p()})}createAssets(){}createAFrameElement(){if(this.renderObj===void 0){const p=document.createElement("a-entity");p.setAttribute("id","obj"),p.setAttribute("geometry","primitive: box"),p.setAttribute("material","shader: html; target: #htmlElement"),this.renderObj=p}return this.renderObj}createNonSceneHtml(){const p=document.createElement("div");return p.setAttribute("id","htmlElement"),p.style="width: 100%; height: 100%; position: fixed; left: 0; top: 0; z-index: -1; overflow: hidden",p.appendChild(this.htmlMeshObj),[p]}onFirstSeen(){}onMarkerFound(){}onMarkerLost(){}tickUpdate(p){if(this.renderObj===void 0)return;const i=p.marker.historic.reduce((h,s)=>(h.position.x+=s.position.x,h.position.y+=s.position.y,h.position.z+=s.position.z,h.rotation.x+=s.rotation.x,h.rotation.y+=s.rotation.y,h.rotation.z+=s.rotation.z,h.scale.x+=s.scale.x,h.scale.y+=s.scale.y,h.scale.z+=s.scale.z,h),{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:0,y:0,z:0}}),n=p.marker.historic.length;i.position.x/=n,i.position.y/=n,i.position.z/=n,i.rotation.x/=n,i.rotation.y/=n,i.rotation.z/=n,i.scale.x/=n,i.scale.y/=n,i.scale.z/=n,i.rotation.x=wt(i.rotation.x,this.vectorRotationLimits.x.min||-360,this.vectorRotationLimits.x.max||360),i.rotation.y=wt(i.rotation.y,this.vectorRotationLimits.y.min||-360,this.vectorRotationLimits.y.max||360),i.rotation.z=wt(i.rotation.z,this.vectorRotationLimits.z.min||-360,this.vectorRotationLimits.z.max||360),this.renderData.update(i),It.updateHtmlElement(this.renderData,this.renderObj)}}const _t={x:{min:-5,max:5},y:{min:-5,max:5},z:{min:-15,max:15}};class st{vector;dimensions;constructor(){this.vector={x:0,y:0,z:0},this.dimensions={width:0,height:0}}update({x:p,y:i,z:n,width:h,height:s}){typeof p=="number"&&(this.vector.x=p),typeof i=="number"&&(this.vector.y=i),typeof n=="number"&&(this.vector.z=n),typeof h=="number"&&(this.dimensions.width=h),typeof s=="number"&&(this.dimensions.height=s)}getPositionString(){return`${this.vector.x} ${this.vector.y} ${this.vector.z}`}getWidthString(){return`${this.dimensions.width}`}getHeightString(){return`${this.dimensions.height}`}static updateHtmlElement(p,i){i.setAttribute("position",p.getPositionString()),i.setAttribute("width",p.getHeightString()),i.setAttribute("height",p.getHeightString())}}class Dt{frameCount;lastTime;fps;constructor(){this.frameCount=0,this.lastTime=0,this.fps=0}update(p){if(this.frameCount++,this.lastTime>0){const i=p-this.lastTime;i>0&&(this.fps=Math.round(1e3/i))}this.lastTime=p}get(){return{frameCount:this.frameCount,fps:this.fps}}}const{Vector3:Et,Quaternion:Nt,Euler:Bt}=THREE,Rt=10;class Ft{initialized;debug;htmlElements;flags;fpsData;markerData;cornerData;renderTarget;constructor({renderTarget:p,isDebugging:i}){this.initialized=!1,this.flags={sceneStarted:!1},this.fpsData=new Dt,this.markerData={found:!1,current:{position:new Et,scale:new Et,rotation:new Et,quaternion:new Nt,euler:new Bt},historic:[]},this.cornerData={bottomLeft:new st,bottomRight:new st,topLeft:new st,topRight:new st},this.renderTarget=p;const{htmlElements:n,debug:h}=this.createScene(i);this.htmlElements=n,this.debug=h,AFRAME.registerComponent("frame-scene",{init:this.init.bind(this),tick:this.tick.bind(this)})}createScene(p){const i=document.querySelector("body");if(i===null)throw new Error("Body cannot be null");const n=document.createElement("a-scene");n.setAttribute("id","scene"),n.setAttribute("frame-scene",""),n.setAttribute("mindar-image","imageTargetSrc: ./targets.mind;"),n.setAttribute("vr-mode-ui","enabled: false"),n.setAttribute("device-orientation-permission-ui","enabled: false");const h=this.renderTarget.createNonSceneHtml(),s=this.renderTarget.createAssets();if(s&&s.length>0){const c=document.createElement("a-assets");s.forEach(g=>c.appendChild(g)),n.appendChild(c)}const d=document.createElement("a-camera");d.setAttribute("position","0 0 0"),d.setAttribute("look-controls","enabled: false");const l=document.createElement("a-entity");l.setAttribute("id","marker"),l.setAttribute("mindar-image-target","targetIndex: 0");const o=this.renderTarget.createAFrameElement();n.appendChild(d),n.appendChild(l),n.appendChild(o);const e={camera:d,marker:l,renderObj:o,scene:n};if(i.append(n),h&&h.length>0&&h.forEach(c=>i.append(c)),p){const c=document.createElement("a-plane");c.setAttribute("id","topLeft"),c.setAttribute("position","10000 10000 10000"),c.setAttribute("width","1"),c.setAttribute("height","1"),c.setAttribute("color","red");const g=document.createElement("a-plane");g.setAttribute("id","topRight"),g.setAttribute("position","10000 10000 10000"),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("color","green");const y=document.createElement("a-plane");y.setAttribute("id","bottomLeft"),y.setAttribute("position","10000 10000 10000"),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("color","blue");const x=document.createElement("a-plane");x.setAttribute("id","bottomRight"),x.setAttribute("position","10000 10000 10000"),x.setAttribute("width","1"),x.setAttribute("height","1"),x.setAttribute("color","yellow");const r=document.createElement("div");r.setAttribute("id","dev-tools"),r.setAttribute("data-show-status","showing");const m=document.createElement("button");m.setAttribute("id","dev-tools-show-hide-btn"),m.textContent="Hide Dev Tools";const f=document.createElement("div");f.setAttribute("id","notice-board-misc"),f.setAttribute("class","notice-board-div");const w=document.createElement("ul");w.setAttribute("class","notice-board");const C=document.createElement("li");C.setAttribute("id","notice-marker-found"),C.setAttribute("data-status","bad"),C.textContent="Marker Lost";const I=document.createElement("li");I.setAttribute("id","notice-fps-display"),I.textContent="FPS: -",w.appendChild(C),w.appendChild(I),f.appendChild(w);const O=document.createElement("div");O.setAttribute("id","notice-board-marker"),O.setAttribute("class","notice-board-div");const M=document.createElement("ul");M.setAttribute("class","notice-board"),M.setAttribute("data-show-status","showing");const D=document.createElement("li");D.setAttribute("id","notice-marker-position"),D.textContent="Pos: -";const F=document.createElement("li");F.setAttribute("id","notice-marker-rotation"),F.textContent="Rot: -";const W=document.createElement("li");return W.setAttribute("id","notice-marker-scale"),W.textContent="Scl: -",M.appendChild(D),M.appendChild(F),M.appendChild(W),O.appendChild(M),r.appendChild(m),r.appendChild(f),r.appendChild(O),n.append(c),n.append(g),n.append(y),n.append(x),i.append(r),{htmlElements:e,debug:{isDebugging:!0,elements:{fps:{display:I,foundMarker:C},marker:{position:D,rotation:F,scale:W},corners:{bottomLeft:y,bottomRight:x,topLeft:c,topRight:g},devTools:r,showHideBtn:m}}}}else return{htmlElements:e,debug:{isDebugging:!1}}}init(){this.renderTarget.init().then(()=>{this.registerArEvents(),this.debug.isDebugging&&this.registerDevToolEvents(),this.initialized=!0})}tick(p,i){this.initialized&&(this.fpsData.update(p),this.tickUpdateScreenCornerData(),this.tickUpdateMarkerData(),this.tickUpdateScreenCornerHtml(),this.tickUpdateDevToolsFpsCounter(),this.tickUpdateDevToolsMarkerDisplay(),this.renderTarget.tickUpdate({marker:this.markerData,corners:this.cornerData}))}registerDevToolEvents(){if(this.debug.isDebugging){const{devTools:p,showHideBtn:i}=this.debug.elements;i.addEventListener("click",()=>{p.getAttribute("data-show-status")==="showing"?(p.setAttribute("data-show-status","hidden"),i.textContent="Show Dev Tools"):(p.setAttribute("data-show-status","showing"),i.textContent="Hide Dev Tools")})}}registerArEvents(){const{scene:p,marker:i}=this.htmlElements;p.addEventListener("arReady",()=>{this.syncCameraProperties()}),i.addEventListener("targetFound",()=>{this.markerData.found=!0,this.flags.sceneStarted||(this.flags.sceneStarted=!0,this.renderTarget.onFirstSeen(),document.querySelector(".mindar-ui-scanning")?.remove()),this.debug.isDebugging&&(this.debug.elements.fps.foundMarker.textContent="Marker Found",this.debug.elements.fps.foundMarker.setAttribute("data-status","good")),this.renderTarget.onMarkerFound({marker:this.markerData,corners:this.cornerData})}),i.addEventListener("targetLost",()=>{this.markerData.found=!1,this.debug.isDebugging&&(this.debug.elements.fps.foundMarker.textContent="Marker Lost",this.debug.elements.fps.foundMarker.setAttribute("data-status","bad")),this.renderTarget.onMarkerLost({marker:this.markerData,corners:this.cornerData})})}syncCameraProperties(){const{camera:p}=this.htmlElements,i=this.getThreeCameraEntityValues();p.setAttribute("camera",{fov:i.fov,near:i.near,far:i.far})}tickUpdateMarkerData(){if(this.markerData.found){const p=this.htmlElements.marker.object3D;p.updateMatrixWorld(!0);const{position:i,rotation:n,scale:h,euler:s,quaternion:d}=this.markerData.current;p.matrixWorld.decompose(i,d,h),s.setFromQuaternion(d,"XYZ");const l=AFRAME.THREE.MathUtils.radToDeg;n.x=l(s.x),n.y=l(s.y),n.z=l(s.z),this.markerData.historic.push({position:{x:i.x,y:i.y,z:i.z},rotation:{x:n.x,y:n.y,z:n.z},scale:{x:h.x,y:h.y,z:h.z}}),this.markerData.historic.length>Rt&&(this.markerData.historic=this.markerData.historic.slice(-Rt,this.markerData.historic.length))}}tickUpdateScreenCornerHtml(){this.debug.isDebugging&&Object.entries(this.debug.elements.corners).forEach(([p,i])=>{st.updateHtmlElement(this.cornerData[p],i)})}tickUpdateScreenCornerData(){const{zDistance:p,halfHeight:i,halfWidth:n}=this.calculateScreenCorners();this.cornerData.topLeft.update({x:-n,y:i,z:p,width:1,height:1}),this.cornerData.topRight.update({x:n,y:i,z:p,width:1,height:1}),this.cornerData.bottomLeft.update({x:-n,y:-i,z:p,width:1,height:1}),this.cornerData.bottomRight.update({x:n,y:-i,z:p,width:1,height:1})}tickUpdateDevToolsFpsCounter(){this.debug.isDebugging&&(this.debug.elements.fps.display.textContent=`FPS: ${this.fpsData.get().fps}`)}tickUpdateDevToolsMarkerDisplay(){if(this.debug.isDebugging){const{position:p,rotation:i,scale:n}=this.debug.elements.marker;this.markerData.found?(p.textContent=`Pos: {x: ${this.markerData.current.position.x.toFixed(1)}, y: ${this.markerData.current.position.y.toFixed(1)}, z: ${this.markerData.current.position.z.toFixed(1)}}`,i.textContent=`Rot: {x: ${this.markerData.current.rotation.x.toFixed(1)}Â°, y: ${this.markerData.current.rotation.y.toFixed(1)}Â°, z: ${this.markerData.current.rotation.z.toFixed(1)}Â°}`,n.textContent=`Scl: {x: ${this.markerData.current.scale.x.toFixed(1)}, y: ${this.markerData.current.scale.y.toFixed(1)}, z: ${this.markerData.current.scale.z.toFixed(1)}}`):(p.textContent="Pos: {x: ???, y: ???, z: ???}",i.textContent="Rot: {x: ???Â°, y: ???Â°, z: ???Â°}",n.textContent="Scl: {x: ???, y: ???, z: ???}")}}getThreeCameraEntityValues(){const{camera:p}=this.htmlElements,{object3D:i}=p;if(i.children.length===0)throw new Error("#camera.object3d children is 0");const n=i.children[0];if(!("near"in n)||!("far"in n)||!("fov"in n)||!("aspect"in n)||typeof n.near!="number"||typeof n.far!="number"||typeof n.fov!="number"||typeof n.aspect!="number")throw new Error("threeCamera must be instance of PerspectiveCamera");return{near:n.near,far:n.far,fov:n.fov,aspect:n.aspect}}calculateScreenCorners(){const p=this.getThreeCameraEntityValues(),{near:i,fov:n,aspect:h}=p,s=-i,d=n/2*(Math.PI/180),l=Math.tan(d),o=i*l,e=o*h;return{zDistance:s,halfHeight:o,halfWidth:e}}}const J=document.createElement("div");J.style.border="2px dashed #ff69b4";J.style.padding="16px";J.style.borderRadius="12px";J.style.background="#fff0f6";J.style.maxWidth="400px";J.style.fontFamily="Comic Sans MS, cursive, sans-serif";const pt=document.createElement("p");pt.textContent="This is the first paragraph ðŸŽ‰";pt.style.color="#ff4500";pt.style.fontWeight="bold";const ft=document.createElement("p");ft.textContent="This is the second paragraph ðŸŒˆ";ft.style.color="#1e90ff";ft.style.fontStyle="italic";const gt=document.createElement("ul");gt.style.listStyleType="square";gt.style.color="#2e8b57";for(let S=1;S<=3;S++){const p=document.createElement("li");p.textContent=`Fun list item ${S} âœ¨`,p.style.margin="6px 0",p.style.background="#f0fff0",p.style.padding="4px 8px",p.style.borderRadius="6px",gt.appendChild(p)}J.appendChild(pt);J.appendChild(ft);J.appendChild(gt);new Ft({isDebugging:!1,renderTarget:new Mt({htmlElementToRender:J,rotationLimit:Lt})});
